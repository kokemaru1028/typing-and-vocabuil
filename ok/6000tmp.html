<!-- 見えない部分 -->
<html>
<head>
<script>

	let Q = [];//問題文です、ここ書き換えて使ってね
	let Q_No = Math.floor( Math.random() * Q.length);//問題をランダムで出題する

	let Q_i = 0;//回答初期値・現在単語どこまで合っているか判定している文字番号
	let Q_l = Q[Q_No].length;//計算用の文字の長さ
	let kai = 0;
	let mstyp = 0;
window.addEventListener("keydown", push_Keydown);

	
function push_Keydown(event){
	if (kai == 1) {
		typStart = new Date(); //時間差が知りたいのでここで書いた
	}
      

	let keyCode = event.key;
	
	if (Q_l == Q_l-Q_i){

		document.getElementById("start").innerHTML = Q[Q_No].substring(Q_i, Q_l); //問題を書き出す
		

		}


	if (Q[Q_No].charAt(Q_i) == keyCode) { //押したキーが合っていたら

		Q_i++; //判定する文章に１足す
		document.getElementById("start").innerHTML = Q[Q_No].substring(Q_i, Q_l); //問題を書き出す

		if (Q_l-Q_i === 0){ //全部正解したら
	
			
                  if (kai == 30) {
				
				//終了時間を記録する
				typEnd = new Date();

				//終了時間－開始時間で掛かったミリ秒を取得する
				var keika = typEnd - typStart;

				//1000で割って「切捨て」、秒数を取得
				var sec = Math.floor( keika/1000 );

				//1000で割った「余り(%で取得できる）」でミリ秒を取得
				var msec = keika % 1000;

				//問題終了を告げる文字列を作成
				var fin="GAME終了　時間："+sec+"秒"+msec+"\n\n\n\n"+mstyp;

				//問題枠にゲーム終了を表示
				document.getElementById("waku").innerHTML = fin;
						}
		else {
			Q_No = Math.floor( Math.random() * Q.length);//問題をランダムで出題する
			Q_i = 0;//回答初期値・現在どこまで合っているか判定している文字番号
			Q_l = Q[Q_No].length;//計算用の文字の長さ
                  kai++;

			document.getElementById("start").innerHTML = Q[Q_No].substring(Q_i, Q_l); //新たな問題を書き出す
		}

		}
	}
	else if (Q[Q_No].charAt(Q_i) != keyCode) mstyp++;
}

</script>

</head>
<!-- ↓ここから見える部分↓ -->
<body>

<center>
<h1 id="start" class="text">何かキーを押して下さい</h1>
</center>
<div id="waku"></div>
</body>
</html>